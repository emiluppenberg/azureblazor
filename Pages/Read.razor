@inject HttpClient httpClient;

@page "/read"

<div class="container mt-4">
  <h3 class="mb-3">Students</h3>

  @if (Students is null)
  {
    <div class="text-muted">Loading…</div>
  }
  else if (!Students.Any())
  {
    <div class="text-muted">No students found.</div>
  }
  else
  {
    <table class="table table-striped table-bordered">
      <thead class="table-dark">
        <tr>
          <th>Id</th>
          <th>Name</th>
          <th>Age</th>
          <th>Course</th>
        </tr>
      </thead>
      <tbody>
        @foreach (var student in Students)
        {
          <tr>
            <td>@student.Id</td>
            <td>@student.Name</td>
            <td>@student.Age</td>
            <td>@student.Course?.Name</td>
          </tr>
        }
      </tbody>
    </table>
  }
</div>

@code {
  public List<Student> Students { get; set; } = new();

  protected override async Task OnInitializedAsync()
  {
    var systemUtveckling = new Course() { Name = "System Utveckling.NEt", Id = 30 };

    Students = new() {
new Student{
Name = "Emil Uppenberg",
Age = 30,
Course = systemUtveckling
},
new Student{
Name = "Ada Reso",Age=29,Course=systemUtveckling
},
new Student{
Name = "Abc 123", Age=2,Course=systemUtveckling
}
};
  }
}